# O PROJETO É BRASILEIRO, SEMPRE UTILIZE O PT-BR.

# TABELAS (as json):

[
  {
    "table_name": "addresses",
    "table_ddl": "CREATE TABLE public.addresses (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    cep text NOT NULL,\n    state character(2) NOT NULL,\n    city character varying(100) NOT NULL,\n    neighborhood character varying(100) NOT NULL,\n    street character varying(100) NOT NULL,\n    number smallint NOT NULL,\n    complement character varying(100) NOT NULL,\n    user_id uuid DEFAULT auth.uid(),\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "categories",
    "table_ddl": "CREATE TABLE public.categories (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    description text NOT NULL,\n    image_url text NOT NULL,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "conversation_messages",
    "table_ddl": "CREATE TABLE public.conversation_messages (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    conversation_id uuid NOT NULL,\n    sender_id uuid NOT NULL,\n    content text NOT NULL,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    edited_at timestamp with time zone,\n    is_deleted boolean NOT NULL DEFAULT false,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "conversation_users",
    "table_ddl": "CREATE TABLE public.conversation_users (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    conversation_id uuid NOT NULL,\n    user_id uuid NOT NULL,\n    role conversation_role NOT NULL DEFAULT 'member'::conversation_role,\n    joined_at timestamp with time zone NOT NULL DEFAULT now(),\n    last_read_at timestamp with time zone,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "conversations",
    "table_ddl": "CREATE TABLE public.conversations (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    is_group boolean NOT NULL DEFAULT false,\n    title text,\n    image_url text,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    last_message_id uuid,\n    last_message_text text,\n    last_message_at timestamp with time zone,\n    last_message_sender_id uuid,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "group_members",
    "table_ddl": "CREATE TABLE public.group_members (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    group_id uuid NOT NULL,\n    user_id uuid NOT NULL,\n    role group_member_role,\n    status group_member_status,\n    invited_by uuid NOT NULL,\n    joined_at timestamp without time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "group_products",
    "table_ddl": "CREATE TABLE public.group_products (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    group_id uuid,\n    product_id uuid,\n    status group_product_status,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "groups",
    "table_ddl": "CREATE TABLE public.groups (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    name character varying,\n    description text,\n    created_at date DEFAULT now(),\n    image_url text,\n    handle character varying,\n    invite_link character varying,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "product_images",
    "table_ddl": "CREATE TABLE public.product_images (\n    id uuid NOT NULL,\n    product_id uuid NOT NULL,\n    image_url character varying(300) NOT NULL,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "product_review_totals",
    "table_ddl": "CREATE TABLE public.product_review_totals (\n    product_id uuid NOT NULL,\n    total_reviews integer NOT NULL DEFAULT 0,\n    average_rating numeric(3,2) NOT NULL DEFAULT 0,\n    star_1_count integer NOT NULL DEFAULT 0,\n    star_2_count integer NOT NULL DEFAULT 0,\n    star_3_count integer NOT NULL DEFAULT 0,\n    star_4_count integer NOT NULL DEFAULT 0,\n    star_5_count integer NOT NULL DEFAULT 0,\n    updated_at timestamp with time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (product_id)\n);"
  },
  {
    "table_name": "product_reviews",
    "table_ddl": "CREATE TABLE public.product_reviews (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    rent_id uuid NOT NULL,\n    product_id uuid NOT NULL,\n    reviewer_user_id uuid NOT NULL,\n    rating smallint NOT NULL,\n    comment text,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "products",
    "table_ddl": "CREATE TABLE public.products (\n    id uuid NOT NULL,\n    name character varying(100) NOT NULL,\n    description character varying(300) NOT NULL,\n    price numeric(8,2) NOT NULL,\n    category_id uuid NOT NULL,\n    availabilities dia_da_semana[] NOT NULL,\n    user_id uuid DEFAULT auth.uid(),\n    lat double precision,\n    lng double precision,\n    geog geography(Point,4326),\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "rent_media",
    "table_ddl": "CREATE TABLE public.rent_media (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    rent_id uuid NOT NULL,\n    product_id uuid NOT NULL,\n    uploader_user_id uuid NOT NULL,\n    actor rent_actor NOT NULL,\n    phase rent_media_phase NOT NULL,\n    kind media_kind NOT NULL,\n    storage_bucket text NOT NULL DEFAULT 'rent-media'::text,\n    storage_path text NOT NULL,\n    mime_type text NOT NULL,\n    byte_size integer,\n    width integer,\n    height integer,\n    duration_ms integer,\n    lat double precision,\n    lng double precision,\n    captured_at timestamp with time zone NOT NULL,\n    checksum_sha256 text,\n    raw_metadata jsonb,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "rents",
    "table_ddl": "CREATE TABLE public.rents (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    product_id uuid,\n    user_id uuid,\n    status rent_status,\n    total_amount integer,\n    dates date[],\n    started_at timestamp with time zone,\n    started_by uuid,\n    ended_at timestamp with time zone,\n    ended_by uuid,\n    PRIMARY KEY (id)\n);"
  },
  {
    "table_name": "spatial_ref_sys",
    "table_ddl": "CREATE TABLE public.spatial_ref_sys (\n    srid integer NOT NULL,\n    auth_name character varying(256),\n    auth_srid integer,\n    srtext character varying(2048),\n    proj4text character varying(2048),\n    PRIMARY KEY (srid)\n);"
  },
  {
    "table_name": "user_extra_information",
    "table_ddl": "CREATE TABLE public.user_extra_information (\n    registration_number character varying NOT NULL,\n    first_name character varying(50) NOT NULL,\n    last_name character varying(50) NOT NULL,\n    user_id uuid DEFAULT auth.uid(),\n    image_url character varying,\n    subscription user_subscription DEFAULT 'free'::user_subscription,\n    phone_number text,\n    PRIMARY KEY (registration_number)\n);"
  },
  {
    "table_name": "user_review_totals",
    "table_ddl": "CREATE TABLE public.user_review_totals (\n    user_id uuid NOT NULL,\n    role rent_actor NOT NULL,\n    total_reviews integer NOT NULL DEFAULT 0,\n    average_rating numeric(3,2) NOT NULL DEFAULT 0,\n    star_1_count integer NOT NULL DEFAULT 0,\n    star_2_count integer NOT NULL DEFAULT 0,\n    star_3_count integer NOT NULL DEFAULT 0,\n    star_4_count integer NOT NULL DEFAULT 0,\n    star_5_count integer NOT NULL DEFAULT 0,\n    updated_at timestamp with time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (user_id, role)\n);"
  },
  {
    "table_name": "user_reviews",
    "table_ddl": "CREATE TABLE public.user_reviews (\n    id uuid NOT NULL DEFAULT gen_random_uuid(),\n    rent_id uuid NOT NULL,\n    reviewer_user_id uuid NOT NULL,\n    reviewee_user_id uuid NOT NULL,\n    role rent_actor NOT NULL,\n    rating smallint NOT NULL,\n    comment text,\n    created_at timestamp with time zone NOT NULL DEFAULT now(),\n    PRIMARY KEY (id)\n);"
  }
]

# ENUMERATED TYPES (as json):

[
  {
    "schema": "public",
    "enum_type": "conversation_role",
    "values": "{owner,member}"
  },
  {
    "schema": "public",
    "enum_type": "dia_da_semana",
    "values": "{domingo,segunda,terça-feira,quarta-feira,quinta-feira,sexta-feira,sábado}"
  },
  {
    "schema": "public",
    "enum_type": "group_member_role",
    "values": "{admin,membro}"
  },
  {
    "schema": "public",
    "enum_type": "group_member_status",
    "values": "{pendente,ativo}"
  },
  {
    "schema": "public",
    "enum_type": "group_product_status",
    "values": "{pendente,confirmado,negado}"
  },
  {
    "schema": "public",
    "enum_type": "media_kind",
    "values": "{foto,video}"
  },
  {
    "schema": "public",
    "enum_type": "rent_actor",
    "values": "{locador,locatario}"
  },
  {
    "schema": "public",
    "enum_type": "rent_media_phase",
    "values": "{inicio,devolucao}"
  },
  {
    "schema": "public",
    "enum_type": "rent_status",
    "values": "{pendente,confirmado,aguardando_checkin_locador,aguardando_checkin_locatario,\"em andamento\",aguardando_checkout_locatario,aguardando_checkout_locador,cancelado,concluído}"
  },
  {
    "schema": "public",
    "enum_type": "user_subscription",
    "values": "{free,pro}"
  }
]

# USE ZUSTAND WHEN USING GLOBAL STATE.
